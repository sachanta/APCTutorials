<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head>








  
  <meta content="text/html; charset=ISO-8859-1" http-equiv="content-type"><title>Appvance Examples - Tutorial on Web Testing with Selenium</title></head><body>
<div style="text-align: center;"><img style="width: 286px; height: 121px; font-family: Helvetica,Arial,sans-serif;" alt="Appvance" src="images/ptt_logo_tm.jpg"><br style="font-family: Helvetica,Arial,sans-serif;">
</div>

<h1 style="font-family: Helvetica,Arial,sans-serif; text-align: center;">Build
A Selenium Test of a <br>
Web Application <br>
In 31 Minutes Or Less.</h1>

<div style="text-align: center;"><span style="font-family: Helvetica,Arial,sans-serif;">The Selenium
Appvance PerformanceCloud (APC) Tutorial</span><br>
<span style="font-family: Helvetica,Arial,sans-serif;"></span></div>

<span style="font-family: Helvetica,Arial,sans-serif;"><br>
This
article shows how to build a test of a Web application in Selenium in
minutes. This
article then shows APC repurposing the test as a load and
performance test and a business service monitor with no extra coding.</span><br style="font-family: Helvetica,Arial,sans-serif;">

<br style="font-family: Helvetica,Arial,sans-serif;">

<span style="font-family: Helvetica,Arial,sans-serif;">Note: Find all
of the code and data described in this article in
tutorials/Selenium_WebTest_Tutorial<br>
<br style="font-family: Helvetica,Arial,sans-serif;">
</span><span style="font-family: Helvetica,Arial,sans-serif;">Enterprises
are challenged to surface performance and load issues, regression and
functional issues, and to accomplish business service production
monitoring in Web environments. For example, APC comes with an
example Web application named BrewBizWeb.<br>
<br style="font-family: Helvetica,Arial,sans-serif;">
</span><br style="font-family: Helvetica,Arial,sans-serif;">

<img style="border: 1px solid ; width: 700px; height: 534px; font-family: Helvetica,Arial,sans-serif;" alt="BrewBizWeb log in screen" src="images/BrewBiz_Login.jpg"><br style="font-family: Helvetica,Arial,sans-serif;">

<br style="font-family: Helvetica,Arial,sans-serif;">

<span style="font-family: Helvetica,Arial,sans-serif;">
This tutorial builds a test of the BrewBiz Web
application. The tutorial will show how to use the test for regression
and smoke testing. Then the tutorial will repurpose the test as a load
and performance test and business service monitor.</span><br style="font-family: Helvetica,Arial,sans-serif;">

<br style="font-family: Helvetica,Arial,sans-serif;">

<span style="font-family: Helvetica,Arial,sans-serif;">
The tutorial will make use of Selenium support in APC.
</span><a style="font-family: Helvetica,Arial,sans-serif;" Selenium</a><span style="font-family: Helvetica,Arial,sans-serif;">
is a popular and widely used
commercial Web test suite development tool. Selenium enables
testers to build functional tests
of Web applications in a Firefox-based graphical test development
environment. Playback these tests in Firefox, Internet Explorer, Opera,
Safari and other browsers. Then repurpose the same tests as functional
tests, load and performance tests, and business service monitors in the
APC distributed test environment.</span><br style="font-family: Helvetica,Arial,sans-serif;">

<h2 style="font-family: Helvetica,Arial,sans-serif;">Tasks
and Scenario</h2>

<span style="font-family: Helvetica,Arial,sans-serif;">Our
challenge in
this tutorial is to build a test of the Web application. The
tutorial will show how to use the test for regression and smoke
testing.
Then the tutorial will repurpose the test as a load and performance
test and business service monitor.</span><br style="font-family: Helvetica,Arial,sans-serif;">

<ol style="font-family: Helvetica,Arial,sans-serif;">

  <li><a href="#task1">Build and run a functional
test of the Web
application</a></li>
  <li><a href="#task2">Run the test in a TestNode
using the HTMLUnit browser</a></li>
  <li><a href="ReadMe.html#taskrc">Run the test in a
TestNode using Selenium RC and a browser</a></li>
  <li><a href="#task3">Reuse the test as a
data-driven test with a Data Production
Library that reads data from a Comma-Separated-Value (CSV) file</a></li>
  <li><a href="#task4">Reuse the test as a load and
performance test</a></li>
  <li><a href="#task5">Reuse the test as a business
service monitor</a></li>
  <li><a href="#task6">Transform the test into a
Jython script and Java test class</a></li>
  <li><a href="#debug">Debugging Web Applications: Tips and
Techniques</a><br>
  </li>
</ol><span style="font-family: Helvetica,Arial,sans-serif;"></span>
<h2 style="font-family: Helvetica,Arial,sans-serif;">Preparation
To Use This Tutorial</h2>

<span style="font-family: Helvetica,Arial,sans-serif;">
This tutorial uses the Web application that ships with APC. User will be provided with the Link to download the tutorial services. <br>
<br>
</span><span style="font-family: Helvetica,Arial,sans-serif;">This tutorial uses the following file name conventions:<br>
</span>
<ul style="font-family: Helvetica,Arial,sans-serif;">

  <li>Designer Script test object file ends in .ds</li>
  <li>Selenium
table format test script files end in .selenium</li>

  <li>Test
Scenario files end in .scenario</li>
</ul>

<span style="font-family: Helvetica,Arial,sans-serif;">
</span>
<h2 style="font-family: Helvetica,Arial,sans-serif;"><span style="font-weight: bold;"><a name="task1"></a>Task
1: Record and Playback A Web
Application Functional Test</span></h2>

<span style="font-family: Helvetica,Arial,sans-serif;">In
this task we will create a&nbsp;test of the Web application using
the APC Designer record/playback utility.<br>
</span>
<ol style="font-family: Helvetica,Arial,sans-serif;">

  <li>From the APC Start Screen click the Designer Link <br>
    <br>
  </li>
    <br>
    <img style="border: 1px solid ; width: 1000px" alt="Designer upon startup" src="images/Designer_start.png"><br>
    <br>
    <br>
  </li>
  <li>Click the Record button. Choose a browser. We wrote this test
using the Firefox browser.<br>
    <br>
  </li>
  <li>Enter http://localhost:8080/BrewBizWeb/login.html for the
Starting URL. Designer opens a browser window.<br>
    <br>
  </li>
  <li>In the browser window, type bert in the ID field, type biz in the
password field. Click the Log-in button.<br>
    <br>
  </li>
  <li>Type 1200 in the Search field. Click Search.<br>
    <br>
    <img style="border: 1px solid ; width: 1000px;" alt="Searching the product catalog" src="images/Search.png"><br>
    <br>
  </li>
 

 

  </li>
  <li>Click End Recording. Designer closes the browser window.<br>
    <br>
    <span style="font-style: italic;">A Quick Tip</span>: Double-click
in the Action, Accessor, and Value fields in any row of the test to see
a helpful pop-menu of options. For example, the Action pop-up shows you
a sorted list of available action commands.<br>
    <br>
  </li>
  
  <li>Choose the Save command. Name the file
BrewBizTest.ds<br>
    <br>
    <img style="border: 1px solid ; width: 1000px; ;" alt="Export test script to file" src="images/FileSave.png"><br>
    <br>
    
  </li>
  <li>Next we will see the test
operate in play-back mode. Click the Play icon.<br>
    <br>
    <img style="border: 1px solid ; " alt="Play test icon" src="images/PlayTest.png"><br>
    <br>
  </li>
  <li>Choose the browser. Click Ok.<br>
    <br>
  </li>
  <li>Designer opens a browser window and operates the test.<br>
    <br>
  </li>
  <li>As an option, set a breakpoint at one of the test commands.
Right-click on a test command and choose Set Breakpoint. Click the Play
icon. Use the Stop and Step icons.<br>
    <br>
In the above steps you operated the test of a Web application using a
Web browser. The Designer reads the Selenium test instructions and
operates the test in the Firefox Web browser. This works well when
building and debugging tests.<br>
    <br>
In the next part of this tutorial you will operate the recorded test in
the APC test automation platform. APC automates
operation of the Selenium test, data-enables the Selenium test,
produces reports for the operation of the Selenium test, enables the
Selenium test to be a step within a larger use case, and repurposes the
Selenium to be a load and performance test and business service monitor
from the same single Selenium test.<br>
  </li>
</ol>

<h2 style="font-family: Helvetica,Arial,sans-serif;"><span style="font-weight: bold;"><a name="task2"></a>Task
2: Data-Enable The Test</span></h2>

<span style="font-family: Helvetica,Arial,sans-serif;">Task
3 enhances the
functional test of the Ajax application from Task 1 and 2 to use
a Data
Production Library (DPL.) The DPL&nbsp;reads data from a comma
separated value (CSV) flat file. The values provide input to the test
and validation values, including UserID, Password, and Product.</span>
<ol style="font-family: Helvetica,Arial,sans-serif;">

  
  <li>Create a
Comma-Separated-Value file. Use your favorite text
editor or spreadsheet program. Name the file data.csv. The contents
of the file must be have double-quotes surrounding the data, fields
separated by a comma, and rows separated by a return character. In a
text editor this looks like:<br>
<br>
    <img style="border: 1px solid ; width: 288px; height: 96px;" alt="Comma separate value (CSV) file" src="images/data2.jpg"><br>
    <br>
    <span style="font-style: italic;">A
quick explanation</span>:
The first row of the data file contains data mapping names. These will
be
used to map values into the Sahi test.<br>
    <br>
  </li>

  <li>In the Designer, reuse the Designer Script test we created in
Task 1. Save the file as BrewBizTestData.ds using Save
As... command.<br>
    <br>
  </li>
  <li>Click on the Data tab.<br>
    <br>
  </li>
  <li>In the Data tab, click Browse. Select the data file.<br>
    <br>
    <img style="border: 1px solid ; width: 1000px; " alt="Data tab showing comma separate value (CSV) file" src="images/selenium_designer_data.png"><br>
    <br>
    <br>
  </li>
  <li>Drag-and-drop the UserID value to the Value field in the 2nd line
of the test. Do the same for the Password field. Drag the Product field
to line 6 and line 8.<br>
    <br>
    <img style="border: 1px solid ; width: 1000px;" alt="Mapping fields in place" src="images/selenium_data_csv.png"><br>
    <br>
    <br>
  </li>
  <li>Click the DPL (Data Production Library) Options button.<br>
    <br>
    <img style="border: 1px solid ; " alt="DPL Icon in the Designer tool bar" src="images/dpl_icon.png"><br>
    <br>
    <img style="border: 1px solid ; width: 1000px;" alt="Alert showing DPL Execution Type" src="images/dpl_options.png"><br>
    <br>
These control the action Designer takes when it runs the test. For
example, with "Get random row" selected Designer will choose a random
row from the CSV file to provide test data to the test.<br>
    <br>
  </li>
  <li>Run
the test in the Designer to confirm your changes to the Sahi
test script. Click the Play icon in the Designer window. Click the Logs
button to view the DPL provided data used during the test.<br>
    <span style="font-style: italic;"><br>
A quick explanation</span>: Designer
maps the data
from the
named column in the CSV data file to the test data using
the $name notation you just entered.<br>
    <br>
  </li>
  <li>Steps 1-5 ran the test in the Designer on your local
machine. Next, we will run the test in a TestNode using the CSV
Data Production Library (DPL)<br>
  </li>
</ol>

<h2 style="font-family: Helvetica,Arial,sans-serif;"><span style="font-weight: bold;"><a name="task3"></a>Task 3: Run The Test In
A TestNode</span></h2>

<span style="font-family: Helvetica,Arial,sans-serif;">
APC makes it easy to repurpose a Selenium test in its test
automation platform. APC is a&nbsp;distributed
test
environment. Appvance provides an easy-to-use
central console that sends
the test to one or more TestNodes. Each TestNode is equipped with a
script runner to operate the test. This makes it easy to operate tests
in a rack of servers to generate hundreds-to-thousands of simulated
users and to run the test from several locations around a network or
the Internet. The TestNodes also inject operational test data into
Selenium tests from data files, relational database queries, and data
generating objects. The TestNodes record the time it takes to operate a
use case and each of the steps in the Selenium test for results
analysis reporting.<br>
</span><br style="font-family: Helvetica,Arial,sans-serif;">

<div style="text-align: center; font-family: Helvetica,Arial,sans-serif;"><img style="width: 417px; height: 306px;" alt="Appvance distributed test environment" src="images/FocusOnNodes.png"><br>
</div>

<br style="font-family: Helvetica,Arial,sans-serif;">

<span style="font-family: Helvetica,Arial,sans-serif;">The
APC sends the&nbsp;test to one or more TestNodes. Each TestNode
operates
the test using a Script Runner. This tutorial uses the Selenium Script
Runner. The Selenium Script Runner uses integrated Selenium RC
technology to run the test in Internet Explorer, Firefox, Chrome,
Safari. The Script Runner optionally runs the test in
HtmlUnit, a headless highly-efficient browser. The TestNode logs the
time it
takes for the application
to
respond and returns the transaction logs to the APC.<br>
<br>
</span>
<div style="text-align: center; font-family: Helvetica,Arial,sans-serif;"><img style="width: 387px; height: 416px;" alt="Operating a test using the internal HTMLUnit browser" src="images/SeleniumAndBrowsers.jpg"><br>
</div>

<br style="font-family: Helvetica,Arial,sans-serif;">

<span style="font-family: Helvetica,Arial,sans-serif;">
The APC identifies the operating parameters of a
functional test, load and performance test, and business service
monitor in a TestScenario. Use the APC Scenario Builder to define a
TestScenario.<br>
</span>
<ol style="font-family: Helvetica,Arial,sans-serif;">

  <li>In APC, choose the Play Button from the Start Screen, Browse command. Select
tutorials/Selenium_WebTest_Tutorial/Functional_Test.scenario<br>
    <br>
  </li>
  <li>APC opens a new
controller panel for the
TestScenario. The
controller panel includes icons to Play,Stop, Edit and Cancel.<br>
    <br>
    <div style="text-align: left;"><img style="border: 1px solid ; width: 1000px; " alt="Controller panel shows the TestScenario" src="images/selenium_functional_start.png"><br>
    </div>
    <br>
  </li>
  <li>Click the Edit icon in the
controller panel to view the
source of the TestScenario document. This action opens the Scenario Builder.<br>
    <br>
    <img style="border: 1px solid ; width: 1000px;" alt="Editor for building TestScenarios" src="images/selenium_functional_editor.png"><br>
    <br>
    <br>
  </li>
  <li>Scenario Builder displays the
TestScenario. Use the tabs to view the TestScenario settings. For example, the TestScenario defines use of the
Selenium test in the Use Cases tab.<br>
    <br>
    <img style="border: 1px solid ; width: 1000px;" alt="Editor use case tab" src="images/selenium_functional_usecase.png"><br>
    <code></code><br>
The
UseCases panel tells APC to operate a test use case that runs the
Selenium test in BrewBizTestData.ds. The Command Language field tells
APC to run the Designer Script (.ds) test object using the
Selenium command language. Browser identifies the browser to operate
the test. Browser choices include Internet Explorer (iexplore),
Firefox, Chrome, Safari. Choose Htmlunit to use the headless
Web browser.<br>
    <br>
The Test Type panel tells APC that this is a functional test and to
run the&nbsp;use case once.<br>
    <br>
  </li>
  
  <li>Click the Play button and
watch the results.<br>
    <br>
    <img style="border: 1px solid ; width: 1000px;" alt="Results of running the functional test" src="images/selenium_functional_complete.png"><br>
    <br>
Functional tests run a test as a single user. APC displays
check-marks next to each step of the Selenium test that operate
successfully. Designer automatically adds waitForElementPresent
commands to synchronize the test with the application. APC shows
the amount of time to operate the use
case and each step in the Selenium test.<br>
    <br>
To see the actual HTTP request and response values, click Transactions
tab in the middle right panel, then click one of the transaction rows,
then click the Request or Response tabs.<br>
    <br>
APC displays an X mark for a step that fails. Use the Output
command in the Windows
menu to view the logs to learn the cause of
the failure. Click the Local TestNode Error and Local TestNode Output
tabs.<br>
    <br>
Please note: Designer adds waitForElementPresent commands
automatically. This makes sure the test waits until the browser
finishes
updating the page to show the page.</li>

</ol>

<span style="font-family: Helvetica,Arial,sans-serif;"></span>
<h2 style="font-family: Helvetica,Arial,sans-serif;"><span style="font-weight: bold;"><a name="task4"></a>Task 4: Run Data-Driven
Functional Tests In A TestNode<br>
</span></h2>

<span style="font-family: Helvetica,Arial,sans-serif;">Task 2 created a
data-enabled test object and run it in Designer with a Data Production
Library (DPL) on the local machine. This task shows how to run
data-enabled tests in a TestNode. APC sends the comma separated
value (CSV) file to the TestNode automatically. The DPL&nbsp;reads data
from the CSV file and injects data into the test
and&nbsp;validation data
value.</span>
<ol style="font-family: Helvetica,Arial,sans-serif;">

  <li>Use the Scenario Builder to connect the DPL to the Selenium
test. Click the Use Cases tab.<br>
    <br>
  </li>
  <li>Click the Add DPL link. Set
the DPL type to HashDPL. HashDPL reads data from a comma separated
value (CSV) file and provides it at test run time to the ScriptRunner.
Set the Action to Get Next Row of Data.<br>
    <br>
    <img style="border: 1px solid ; width: 1000px;" alt="Setting a DPL in the use case" src="images/selenium_functional_dpl.png"><br>
    <br>
    <br>
  </li>
  <li>By
default APC runs
the use case in a Functional Test once. Click the Test Type tab and
select the Repeat For All Data control to repeat the use case for the
additional rows of data in the data.csv file.<br>
    <br>
  </li>
  <li>That's
all! Click the Appvance Run button and watch the results.<br>
    <br>
</li>
  <br>

</ol>

<span style="font-family: Helvetica,Arial,sans-serif;"></span>
<h2><a name="task5"></a><span style="font-family: Helvetica,Arial,sans-serif;">Task 5: Repurpose A
Functional Test
As A Load And Performance Tests</span></h2>

<span style="font-family: Helvetica,Arial,sans-serif;">Load and
performance testing identifies how close to linar scalability the
application under test achieves. An application with linear scalability
services 100 users concurrently at the same speed as 1000 users.
APC's Scalability Index is the quickest read of an application's
ability to scale linearly.<br>
<br>
APC operates load tests by running
multiple
concurrently running users for a set amont of time.<br>
<br>
Appvance repurposes the functional
tests as load
and performance tests without requiring any change to the test!<br>
</span>
<ol style="font-family: Helvetica,Arial,sans-serif;">

  <li>With the TestScenario from the previous task open in the Scenario Builder,
click the Test Type tab.<br>
    <br>
  </li>
  <li>Choose the Save As command. Save the
TestScenario to a file named Selenium_LoadTest.scenario<br>
    <br>
Click the Load and Performance Test test type.<br>
    <br>
  </li>
  <li>Click the Add Virtual User Level 3 times. Enter the values 1, 2,
3.<br>
    <br>
    <img style="border: 1px solid ; width: 1000px; " alt="Editing a load test" src="images/selenium_load.png"><br>
    <br>
The settings tells APC to operate a load and performance test at
three levels
of concurrently running simulated users (crlevel.) The test operates 1
user, then 2 users, and then 3.<br>
    <br>
  </li>
  
  <li>That's
all! Click the Appvance Run button and watch the results.<br>
    <br>
    <img style="border: 1px solid ; width: 1000px" alt="Test results from a load test" src="images/load_selenium_controller.png"><br>
    <span style="font-weight: bold;"><br>
    </span>Appvance operates the
test in 1 simulated
virtual user, then 2 concurrently running virtual users, then 4 users. The Real Time Scalability Index
contrasts the Transaction Per Second (TPS) for each of the three user
levels.<br>
    <br>
A perfectly scalable system will increase TPS in linear
proportion to the increase in users. For example, at 2 users doing 0.03
TPS a 4 user level should be twice the TPS, or 0.06 or higher. The
charts in the Controller window show how close the application under
test got to linear
scalability. The Total Transactions chart shows the amount of time each
step
took to operate as the test proceeded.<br>
    <br>
    Click the right triangle icon to view the Transaction Distribution at 2 and 4 virtual users.<br>
    <br>
  </li>

</ol>

<h2 style="font-family: Helvetica,Arial,sans-serif;"><span style="font-weight: bold;"><a name="task6"></a>Task 6: Repurpose A
Functional Test
As A Business Service Monitor</span></h2>

<span style="font-family: Helvetica,Arial,sans-serif;">Business
Service Monitor (BSM) testing enforces and proves a Service Level
Agreement (SLA) by operating a test periodically. For example, a
monitor runs a test every 30 minutes. APC repurposes functional
tests as a service monitor with no changes to the Selenium test.</span><br style="font-family: Helvetica,Arial,sans-serif;">

<ol style="font-family: Helvetica,Arial,sans-serif;">

  <li>In the APC window use
the Play Button from the Start Screen -&gt; Browse command. Use the file selector to
choose WebRIASeleniumTest/Web_Monitor.scenario.<br>
    <br>
  </li>
  <li>Click the Edit icon in the
TestScenario Controller panel.<br>
    <br>
    <img style="border: 1px solid ; width: 1000px;" alt="Editing a business service monitor" src="images/selenium_monitor_controller.png"><br>
    <br>
This TestScenario runs the test use case as a business service monitor.
The monitor
operates the test use case every 1 minutes. The
monitor keeps running until it encounters an exception.<br>
    <br>
  </li>
  <li>That's
all! Click the Appvance Play button and watch the results.<br>
    <br>
    <img style="border: 1px solid ; width: 1000px;" alt="Business Service Monitor (BSM)" src="images/selenium_monitor100.png"><br>
    <br>
The monitor controller panel is a dashboard to the status of the
service being tested.<br>
  </li>
</ol>

<span style="font-family: Helvetica,Arial,sans-serif;"></span>
<br style="font-family: Helvetica,Arial,sans-serif;">

<table style="font-family: Helvetica,Arial,sans-serif;" bgcolor="#0000cc" border="0" cellpadding="0" cellspacing="1" width="100%">

  <tbody>
    <tr>
      <td>
      <table bgcolor="#ffffcc" border="0" cellpadding="0" width="100%">
        <tbody>
          <tr>
            <td width="10">
            <p><img src="images/blank.gif" x-claris-useimageheight="" align="bottom" height="1" width="10"></p>
            </td>
            <td width="120">
            <p><a href="http://www.appvance.com/"><img style="border: 0px solid ; width: 91px; height: 39px;" alt="" src="images/ptt_logo_tm_yellow.jpg" x-claris-useimagewidth="" x-claris-useimageheight=""></a></p>
            </td>
            <td width="30">
            <p><img src="images/blank.gif" x-claris-useimageheight="" align="bottom" height="1" width="30"></p>
            </td>
            <td>
            <p><font size="-1">Additional
documentation, product downloads and updates are at&nbsp;<a href="http://www.appvance.com/">www.appvance.com</a>.
While the Appvance PerformanceCloud software is distributed under a
commercial
license, the documentation remains (c) 2014 Appvance. All rights
reserved. Appvance is a trademark of the Appvance company.</font></p>
            </td>
          </tr>
        </tbody>
      </table>
      </td>
    </tr>
  </tbody>
</table>

</body></html>